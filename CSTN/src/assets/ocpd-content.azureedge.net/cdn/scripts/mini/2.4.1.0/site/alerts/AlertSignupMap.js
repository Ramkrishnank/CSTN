/*! tools 2018-02-09 */
function AlertSignupMap(){}AlertSignupMap.MainMap=null,AlertSignupMap.BasemapLayer=null,AlertSignupMap.CenterPoint=null,AlertSignupMap.CurrentAddressGraphic=null,AlertSignupMap.CurrentBufferGraphic=null,AlertSignupMap.Loaded=!1,AlertSignupMap.LoadExtentCounter=0,AlertSignupMap.Init=function(a){if(AlertSignupMap.Loaded=!1,AlertSignupMap.MainMap=null,AlertSignupMap.LoadExtentCounter=0,AlertSignupSettings.IsLoaded||null==a||AlertSignupSettings.Load(a),2==AlertSignupSettings.MapType&&AlertSignupMap.LoadMobileSearchMenus(),null==AlertSignupMap.MainMap){var b=AlertSignupSettings.GetBasemapById(AlertSignupSettings.DefaultBackgroundLayerID);require(["esri/geometry/Point","esri/geometry/Extent","esri/SpatialReference","esri/map"],function(a,c,d,e){"map"==AlertSignup.Origin?AlertSignupMap.MainMap=new e("mapAlert",{sliderStyle:"none",center:Map.MainMap.extent.getCenter(),scale:Map.MainMap.getScale(),slider:!1,minScale:AlertSignupSettings.MaxScale}):(AlertSignupMap.CenterPoint=new a(AlertSignupSettings.CenterPointX,AlertSignupSettings.CenterPointY,new d({wkid:102100})),AlertSignupMap.MainMap=new e("mapAlert",{sliderStyle:"none",center:AlertSignupMap.CenterPoint,scale:AlertSignupSettings.CenterPointScale,slider:!1,minScale:AlertSignupSettings.MaxScale})),AlertSignupMap.BasemapLayer=AlertSignupMap.PrepareBasemapLayer(b),AlertSignupMap.MainMap.addLayer(AlertSignupMap.BasemapLayer,0)}),"map"==AlertSignup.Origin&&AlertSignupMap.MainMap.on("extent-change",AlertSignupMap.SetExtent)}},AlertSignupMap.SetExtent=function(){0==AlertSignupMap.Loaded&&(AlertSignupMap.LoadExtentCounter+=1,2==AlertSignupMap.LoadExtentCounter&&(AlertSignupMap.MainMap.setExtent(Map.MainMap.extent),AlertSignupMap.Loaded=!0))},AlertSignupMap.PrepareBasemapLayer=function(a){var b=null,c=a.$type.split(",")[0];return c.toLowerCase().indexOf("tilebackgroundlayer")>-1&&require(["esri/layers/ArcGISTiledMapServiceLayer"],function(c){b=new c(a.ul,{id:a.nm}),b.minScale=AlertSignupSettings.MinScale,b.maxScale=AlertSignupSettings.MaxScale}),b},AlertSignupMap.GoToSelectedLocation=function(a,b,c,d){require(["esri/geometry/Point"],function(e){var f=new e(c,d);AlertSignupMap.CreateAddressGraphic(f,a),AlertSignupMap.CreateBufferGraphic(f,b)})},AlertSignupMap.ClearGraphics=function(){AlertSignupMap.MainMap.graphics.clear()},AlertSignupMap.CreateAddressGraphic=function(a,b){require(["esri/graphic","esri/symbols/PictureMarkerSymbol","esri/Color","esri/InfoTemplate"],function(c,d,e,f){var g=new d("/images/map/marker/"+AlertSignupSettings.MyLocationImageName,25,25);g.xoffset=AlertSignupSettings.MyLocationOffsetX,g.yoffset=AlertSignupSettings.MyLocationOffsetY;var h=new f("Search Location",'<span style="font-weight:bold;">'+b+"</span>");AlertSignupMap.CurrentAddressGraphic=new c(a,g,null,h),null!=AlertSignupMap.MainMap.graphics&&AlertSignupMap.MainMap.graphics.add(AlertSignupMap.CurrentAddressGraphic)})},AlertSignupMap.CreateBufferGraphic=function(a,b){var c=a,d=b;require(["esri/geometry/Circle","esri/graphic","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/Color","esri/units","esri/geometry/Point","esri/geometry/webMercatorUtils"],function(a,b,e,f,g,h,i,j){var k=d,l=AlertSignupSettings.QueryGeometry.co,m=AlertSignupSettings.QueryGeometry.ol.st,n=AlertSignupSettings.QueryGeometry.ol.co,o=AlertSignupSettings.QueryGeometry.ol.wd,p=null;switch(m){case 0:p=f.STYLE_DASH;break;case 1:p=f.STYLE_DASHDOT;break;case 2:p=f.STYLE_DASHDOTDOT;break;case 3:p=f.STYLE_DOT;break;case 4:p=f.STYLE_NULL;break;case 5:p=f.STYLE_SOLID;break;default:p=f.STYLE_SOLID}var q=j.geographicToWebMercator(c),r=new a({center:q,radius:k,radiusUnit:h.METERS,geodesic:!0}),s=new f(p,new g(n),o),t=new e(e.STYLE_SOLID,s,new g([255,255,255,.1]));if(AlertSignupMap.CurrentBufferGraphic=new b(r,t),null!=AlertSignupMap.MainMap.graphics){var u=1.5,v=r.getExtent().expand(u);AlertSignupMap.MainMap.graphics.add(AlertSignupMap.CurrentBufferGraphic),AlertSignupMap.MainMap.setExtent(v)}})},AlertSignupMap.LoadMobileSearchMenus=function(){navigator.userAgent.indexOf("iPhone",0)>-1||navigator.userAgent.indexOf("Android",0)>-1?($("#divAlertsStandardLocationSearch").hide(),$("#divAlertsSecondaryLocationSearch").show(),$("#txtAlertsLocationSearch").show()):($("#divAlertsStandardLocationSearch").show(),$("#divAlertsSecondaryLocationSearch").hide())};