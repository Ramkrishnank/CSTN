/*! tools 2018-02-09 */
function Landing(){}Landing.SelectedPoliticalBoundary=null,Landing.PoliticalBoundaryLastChanged=null,Landing.SelectedLocationSuggestion=null,Landing.UseLocationSuggest=!1,Landing.NumSearchCharacters=null,Landing.LandingCountryCode=null,Landing.MaxNumSuggestions=null,Landing.MinGeocodeScore=null,Landing.GeocodeUrl=null,Landing.SuggestionUrl=null,Landing.Init=function(a){$("#divClientLogIn").hide(),Staging.GetSessionStatus(),Landing.NumSearchCharacters=a.Settings.ss.nc,Landing.LandingCountryCode=a.Settings.ss.lc,Landing.MaxNumSuggestions=a.Settings.ss.mns,Landing.MinGeocodeScore=a.Settings.ss.mgs,Landing.GeocodeUrl=a.Settings.ss.gu,Landing.SuggestionUrl=a.Settings.ss.su},Landing.LocationSuggestParams=function(){return{text:$("#locationSearch").val()}},Landing.LocationSuggestSelected=function(a){var b=this.dataItem(a.item.index());Landing.SelectedLocationSuggestion=b,Landing.UseLocationSuggest=!0,Landing.NavigateToMapByLocation()},Landing.LocationSuggestTextChanged=function(a){Landing.UseLocationSuggest||(Landing.SelectedLocationSuggestion=null),Landing.UseLocationSuggest=!1},Landing.NavigateToMapByLocation=function(){var a=$("#locationSearch").val(),b="";if(null!=Landing.SelectedLocationSuggestion&&(a=Landing.SelectedLocationSuggestion.Text,b=Landing.SelectedLocationSuggestion.MagicKey),a=a.replace(/[^\w\s,]/gi,""),""==a||void 0==a)return void $("#locationSearch").val("");EventTracking.LandingAddressSearchEvent(a);var c=ScriptHelper.GetBaseUrl()+"/map/location/"+a+"?id="+b;window.location.href=c},Landing.SelectedBoundary=null,Landing.IsBoundarySelected=!1,Landing.PoliticalBoundarySelected=function(a){var b=this.dataItem(a.item.index());Landing.SelectedBoundary=b,Landing.IsBoundarySelected=!0,Landing.GetBoundaryAgencies(b.ID),$("#hfBoundary").val(b.ID),$("#hfAgency").val("")},Landing.PoliticalBoundaryChanged=function(a){void 0==a.item||""==a.item?($("#divEnabledAgencies").hide(),$("#divDisabledAgencies").show()):($("#divEnabledAgencies").show(),$("#divDisabledAgencies").hide()),Landing.IsBoundarySelected||(Landing.SelectedBoundary=null,$("#hfBoundary").val("")),Landing.IsBoundarySelected=!1},Landing.GetBoundaryAgencies=function(a){if(null!=Landing.SelectedBoundary||""!=$("#hfBoundary").val()){var b=ScriptHelper.GetBaseUrl()+"/home/GetAgencies?boundaryid="+a;$.ajax({url:b,type:"GET",success:function(a){null==a.sessionend&&($("#divAgencies").html(""),$("#divAgencies").html(a),""!=$("#hfAgency").val()&&($("#cbPoliticalBoundaries").data("kendoComboBox").value($("#hfBoundary").val()),$("#cbAgencies").data("kendoComboBox").value($("#hfAgency").val())))},error:function(a,b,c){Landing.LoadErrorModal("Landing Get Boundary Agencies - "+c,5,851e4)}})}},Landing.SelectedAgency=null,Landing.IsAgencySelected=!1,Landing.AgencyTextSelected=function(a){var b=this.dataItem(a.item.index());Landing.SelectedAgency=b,Landing.IsAgencySelected=!0,$("#hfAgency").val(b.ID)},Landing.AgencyTextChanged=function(a){Landing.IsAgencySelected||(Landing.SelectedAgency=null),Landing.IsAgencySelected=!1},Landing.NavigateToMapByAgency=function(){if(""!=$("#hfAgency").val()){var a=$("#cbAgencies").val(),b=document.getElementsByName("cbAgencies_input")[0].value,c=ScriptHelper.GetBaseUrl()+"/map/agency/"+a;EventTracking.LandingAgencySearchEvent(b),$("#cbPoliticalBoundaries").val(""),$("#cbAgencies").val(""),window.location.href=c}},Landing.LoadErrorModal=function(a,b,c){var d=ScriptHelper.GetBaseUrl()+"/home/LoadErrorModal";$.ajax({url:d,type:"GET",data:{message:a,errorLevel:b,errorCode:c},success:function(a){},error:function(a,b,c){alert(c)}})};